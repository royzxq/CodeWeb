<div>
	<div>
	
	</div>
	<strong ng-show="!vm.probList">Loading...</strong>
	<button ng-show = "vm.probList" ng-click='vm.goPreviousPage()' class='ngdialog-theme-default'>Prev</button>
	<span ng-show = "vm.probList">
		<strong>{{vm.page+1}} / {{vm.probListArray.length}}</strong>
	</span>
	<button ng-show = "vm.probList" ng-click='vm.goNextPage()' class='ngdialog-theme-default'>Next</button>
	<span ng-show = "vm.probList">Items to display: </span>
	<select ng-show = "vm.probList" ng-model='vm.select' ng-change="vm.rePage()" ng-init="vm.select = '50'" >
		<option value="10" >10</option>
		<option  value="50">50</option>
		<option value="100">100</option>
		<option value="0">All</option>
	</select> &nbsp &nbsp
	<span ng-show="vm.probList" style="float:right">
		<b>Search:</b> <input ng-model="query">
	</span>
	
	<p ng-show="!vm.user && vm.probList">
	<span><b>To have more functionality, please create a new account or login!</b></span>
	</p>
	<a href="/graph/graph/Force">Graph</a>
	<table >
		<tr ng-show="vm.probList">
			
			<td >
				<a href="" ng-click="vm.order('title')">Title</a>
			</td>
			<td >
				<a href="" ng-click="vm.order('difficulty')">Difficulty</a>
			</td>
			<!-- <td >
				<a href="" ng-click="vm.order('link')">Link</a>
			</td> -->
			<td >
				<a href="" ng-click="vm.order('source')">Source</a>
			</td>

			<td ng-show="vm.user">
				<a href="" ng-click="vm.order('status')">Finished</a>
			</td>
			
		</tr>
		<tr ng-repeat = "prob in vm.probList | orderBy:vm.predicate:vm.reverse | filter:query">
			<td >
				<a ng-bind="prob.title" ng-click='vm.selectProb(prob)' href></a>
			</td>
			<td ng-bind="prob.difficulty"></td>
			
			<!-- <td  >
				<a ng-bind="prob.link" ng-click='vm.goto(prob.link)' href></a>
			</td> -->

			<td ng-bind="prob.source"></td>

			<td ng-show='vm.user' ng-bind="vm.user.questions[prob.title].status"></td>
			
		</tr>
	</table>
	<button ng-show = "vm.probList" ng-click='vm.goPreviousPage()' class='ngdialog-theme-default'>Prev</button>
	<span ng-show = "vm.probList">
		<strong>{{vm.page+1}} / {{vm.probListArray.length}}</strong>
	</span>
	<button ng-show = "vm.probList" ng-click='vm.goNextPage()' class='ngdialog-theme-default'>Next</button>
	<span ng-show = "vm.probList">Items to display: </span>
	<select ng-show = "vm.probList" ng-model='vm.select' ng-change="vm.rePage()" ng-init="vm.select = '50'" >
		<option value="10" >10</option>
		<option  value="50">50</option>
		<option value="100">100</option>
		<option value="0">All</option>
	</select>
</div>

<script type="text/ng-template" id='probContent.html'>
	<div>
		<h1 ng-bind="vm.prob.title"></h1>
		<div ng-repeat="des in vm.prob.contents">
			<strong ng-bind-html="des"></strong>
		</div>
		<div ng-show="vm.user">
			Note: &nbsp <a href="#" editable-text="vm.user.questions[vm.prob.title].note"> {{vm.user.questions[vm.prob.title].note || 'empty'}}  </a>
			<br>		
		</div>
		<br>
		<div>
		<button ng-click = "vm.showTag()"> Tags </button>
		<span ng-show = 'vm.tag' ng-repeat = 'tag in vm.prob.tags'>
			<span ng-bind='tag'> </span>   &nbsp
		</span>
		</div>
		<br>
		<button ng-click = "vm.showRelated()"> Related </button>
		<span ng-show = 'vm.related' ng-repeat='res in vm.prob.related'>
			<span ng-bind='res'> </span>   &nbsp &nbsp

		 </span>
		</div>
		<br>
		<button ng-click="vm.goto(vm.prob.link)">Link</button>
		
		<button ng-click='vm.cancel()' style='float:right'>Cancel</button>

		<div ng-show="vm.user" style="float:right">
			<button ng-show='vm.user.questions[vm.prob.title].status' ng-click="vm.marked()">UnFinished</button>
			<button ng-show='!vm.user.questions[vm.prob.title].status' ng-click="vm.marked()">Finished</button>
		</div>
	</div>

	
</script>
