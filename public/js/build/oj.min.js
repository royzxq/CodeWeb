var app=angular.module("app",["ngRoute","ngDialog","xeditable"]).config(["$routeProvider",function(t){t.otherwise({redirectTo:"/"})}]);!function(){"use strict";function t(t,e){var r=[];0===e&&(e=t.length);for(var o=0;o<t.length;o+=e)r.push(t.slice(o,o+e));return r}function e(e,r,o,a,n){var s=this;s.page=0,s.select=50,s.options=[10,50,100,200],s.predicate="title",s.reverse=!1,s.note="",s.tag=!1,s.related=!1,s.tagSet={},s.tagContent={},s.sortedTags=[],s.selectTags=[],s.showTag=!0,e.get("/probs").then(function(e){if(s.data=e.data,0===Object.keys(s.tagSet).length){for(var r=0;r<s.data.length;r++)for(var o=0;o<s.data[r].tags.length;o++)s.data[r].tags[o]in s.tagSet?s.tagSet[s.data[r].tags[o]]+=1:(s.tagSet[s.data[r].tags[o]]=1,s.tagContent[s.data[r].tags[o]]=[]);delete s.tagSet["LintCode Copyright"];for(var a in s.tagSet){for(var r=0;r<s.data.length;r++){var n=s.data[r].tags;n.indexOf(a)>=0&&s.tagContent[a].push(s.data[r])}s.sortedTags.push([a,s.tagSet[a]]),s.tagSet[a]>=15&&s.selectTags.push([a,s.tagSet[a]])}s.sortedTags.sort(function(t,e){return e[1]-t[1]}),s.selectTags.sort(function(t,e){return e[1]-t[1]})}s.probListArray=t(s.data,parseInt(s.select)),s.probList=s.probListArray[s.page]}),e.get("/users/getUser").then(function(t){s.user=t.data}),s["goto"]=function(t){console.log(t),r.open(t)},s.selectProb=function(t){s.prob=t,s.prob.contents=[];for(var e=0;e<s.prob.content.length;e++)s.prob.contents[e]=n.trustAsHtml(s.prob.content[e]);o.open({template:"probContent.html",className:"ngdialog-theme-default",scope:a})},s.cancel=function(){o.close()},s.order=function(t){"difficulty"===t?(s.reverse=s.predicate===s.sortDifficulty?!s.reverse:!1,s.predicate=s.sortDifficulty):(s.reverse=s.predicate===t?!s.reverse:!1,s.predicate=t)},s.goNextPage=function(){s.page<s.probListArray.length-1&&(s.page+=1),s.probList=s.probListArray[s.page]},s.goPreviousPage=function(){s.page-=1,s.page=s.page%s.probListArray.length,s.page<0&&(s.page=0),s.probList=s.probListArray[s.page]},s.rePage=function(e){s.probListArray=t(e,parseInt(s.select)),s.page=0,s.probList=s.probListArray[s.page]},s.marked=function(){s.user.questions[s.prob.title].status=!s.user.questions[s.prob.title].status,e.post("/users/mark",{user:s.user,prob:s.user.questions}).then(function(t){})},s.showTag=function(){s.tag=!s.tag},s.showRelated=function(){s.related=!s.related},s.readMore=function(){s.showTag=!s.showTag},s.displayByTag=function(t){s.rePage(s.tagContent[t])},s.sortDifficulty=function(t){return"Easy"===t.difficulty?1:"Medium"===t.difficulty?2:3},a.$watch("vm.user.questions[vm.prob.title].note",function(t,r){t!==r&&(s.user.questions[s.prob.title].note=t,e.post("/users/mark",{user:s.user,prob:s.user.questions}).then(function(t){}))})}angular.module("app").controller("ListController",e),e.$inject=["$http","$window","ngDialog","$scope","$sce"]}(),function(){function t(t){t.when("/:probTitle",{templateUrl:"/js/app/prob/prob.html",controller:"ProbController",controllerAs:"vm"}).when("/",{templateUrl:"/js/app/index.html",controller:"ListController",controllerAs:"vm"})}angular.module("app").config(t),t.$inject=["$routeProvider"]}(),function(){function t(t){vm=this}angular.module("app").controller("ProbController",t),t.$inject=["$routeParams","$http"]}();