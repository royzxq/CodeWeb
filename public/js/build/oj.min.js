var app=angular.module("app",["ngRoute","ngDialog","xeditable"]).config(["$routeProvider",function(t){t.otherwise({redirectTo:"/"})}]);!function(){"use strict";function t(t,e){var r=[];0===e&&(e=t.length);for(var s=0;s<t.length;s+=e)r.push(t.slice(s,s+e));return r}function e(e,r,s,o,a){var n=this;n.page=0,n.select=50,n.options=[10,50,100,200],n.predicate="title",n.reverse=!1,n.note="",n.tag=!1,n.related=!1,n.showTags=!0,n.tagSet={},n.tagContent={},n.sortedTags=[],n.selectTags=[],e.get("/probs").then(function(e){if(n.data=e.data,0===Object.keys(n.tagSet).length){for(var r=0;r<n.data.length;r++)for(var s=0;s<n.data[r].tags.length;s++)n.data[r].tags[s]in n.tagSet?n.tagSet[n.data[r].tags[s]]+=1:(n.tagSet[n.data[r].tags[s]]=1,n.tagContent[n.data[r].tags[s]]=[]);delete n.tagSet["LintCode Copyright"];for(var o in n.tagSet){for(var r=0;r<n.data.length;r++){var a=n.data[r].tags;a.indexOf(o)>=0&&n.tagContent[o].push(n.data[r])}n.sortedTags.push([o,n.tagSet[o]]),n.tagSet[o]>=15&&n.selectTags.push([o,n.tagSet[o]])}n.sortedTags.sort(function(t,e){return e[1]-t[1]}),n.selectTags.sort(function(t,e){return e[1]-t[1]})}n.probListArray=t(n.data,parseInt(n.select)),n.probList=n.probListArray[n.page]}),e.get("/users/getUser").then(function(t){n.user=t.data}),n["goto"]=function(t){r.open(t)},n.selectProb=function(t){n.prob=t,n.prob.contents=[];for(var e=0;e<n.prob.content.length;e++)n.prob.contents[e]=a.trustAsHtml(n.prob.content[e]);s.open({template:"probContent.html",className:"ngdialog-theme-default",scope:o})},n.cancel=function(){s.close()},n.order=function(t){"difficulty"===t?(n.reverse=n.predicate===n.sortDifficulty?!n.reverse:!1,n.predicate=n.sortDifficulty):"finish"===t?(n.reverse=n.predicate===n.sortFinish?!n.reverse:!1,n.predicate=n.sortFinish):(n.reverse=n.predicate===t?!n.reverse:!1,n.predicate=t)},n.goNextPage=function(){n.page<n.probListArray.length-1&&(n.page+=1),n.probList=n.probListArray[n.page]},n.goPreviousPage=function(){n.page-=1,n.page<0&&(n.page=0),n.probList=n.probListArray[n.page]},n.rePage=function(e){n.probListArray=t(e,parseInt(n.select)),n.page=0,n.probList=n.probListArray[n.page]},n.marked=function(){n.user.questions[n.prob.title].status=!n.user.questions[n.prob.title].status,e.post("/users/mark",{user:n.user,prob:n.user.questions}).then(function(t){t&&(n.user.questions[n.prob.title].status=!n.user.questions[n.prob.title].status)})},n.showTag=function(){n.tag=!n.tag},n.showRelated=function(){n.related=!n.related},n.readMore=function(){n.showTags=!n.showTags},n.displayByTag=function(t){n.rePage(n.tagContent[t])},n.sortDifficulty=function(t){return"Easy"===t.difficulty?1:"Medium"===t.difficulty?2:3},n.sortFinish=function(t){return n.user.questions[t.title].status===!0?1:2},o.$watch("vm.user.questions[vm.prob.title].note",function(t,r){t!==r&&(n.user.questions[n.prob.title].note=t,e.post("/users/mark",{user:n.user,prob:n.user.questions}).then(function(t){}))})}angular.module("app").controller("ListController",e),e.$inject=["$http","$window","ngDialog","$scope","$sce"]}(),function(){function t(t){t.when("/",{templateUrl:"/js/app/index.html",controller:"ListController",controllerAs:"vm"})}angular.module("app").config(t),t.$inject=["$routeProvider"]}();